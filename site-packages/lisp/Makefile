EMACS = xemacs

DIRS := sam misc
ifneq ($(findstring xemacs,$(EMACS)),)
DIRS += xemacs introspector
endif

all:
	@for d in $(DIRS); do \
		$(MAKE) -C $$d $(MFLAGS) all; \
	done

elcs:
	@for d in $(DIRS); do \
		$(MAKE) -C $$d $(MFLAGS) elcs; \
	done

clean:
	@for d in $(DIRS); do \
		$(MAKE) -C $$d $(MFLAGS) clean; \
	done

.SUFFIXES: .el .elc

EMACS = "c:/program files/xemacs/xemacs-21.4.13/i586-pc-win32/xemacs"

.el.elc:
	$(EMACS) -batch -q -l helper.el -f batch-byte-compile $<

ELCS =  arm.elc\
	backup.elc\
	cpuinfo.elc\
	ddk-setenv.elc\
	dired-extras.elc\
	filter.elc\
	gpl.elc\
	git-diff.elc \
	h2t.elc\
	http.elc\
	intellimouse.elc\
	lxr.elc\
	mpg.elc\
	my-calc.elc\
	my-compile.elc\
	slashdot.elc\
	smerge.elc\
	svn.elc\
	tmp-buffer.elc\
	trim.elc\
	windoze.elc\
	vc-ediff.elc\

EXTRA = auto-autoloads.elc

all:	$(ELCS) $(EXTRA)

auto-autoloads.el: $(ELCS)
	rm -f auto-autoloads.el
	$(EMACS) -batch -q -no-site-file -l autoload -f batch-update-directory .

tags:
	etags *.el

clean:
	rm -f *.elc auto-autoloads.el TAGS
